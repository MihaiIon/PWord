!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("Pword requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";var i=function(t,e,i){this.wordIndex=null,this.currentWord=null,this.wordList=null,this.setWordList(e?e:[{word:"Creative",color:"3fa8ce"},{word:"Genius",color:"3ece97"},{word:"Ninja",color:"cb6de0"},{word:"OMG",color:"ef8839"},{word:"Fabulous",color:"d63359"}]);var n=/^#([\w-]+)$/;if(!t||!n.test(t))throw new Error("The provided selector '"+t+"' is malformed. Provide a valid id.");var r=i?i:{},s=r.particle?i.particle:{};this.initScene(t,{scene:{bgColor:"0x"+(r.bgColor?r.bgColor:"ffffff"),resizable:!0},particle:{size:s.size?s.size:20,minSpeed:s.minSpeed?s.minSpeed:.015,maxSpeed:s.maxSpeed?s.maxSpeed:.025,rSpeed:s.rSpeed?s.rSpeed:10,rGrowth:s.rGrowth?s.rGrowth:.5,snapOrigin:s.snapOrigin?s.snapOrigin:2,minRadius:s.minRadius?s.minRadius:40,maxRadius:s.maxRadius?s.maxRadius:100,spaceBetween:r.spaceBetween?r.spaceBetween:5}})};i.fn=i.prototype={constructor:i,setState:function(t){this.currentState=t},setWord:function(t){this.wordIndex=t,this.currentWord=this.wordList[t].string},setWordList:function(t){this.wordList=[];for(var e=0;e<t.length;e++)this.wordList.push(new n(t[e].word,t[e].color));this.setWord(0)},setConstants:function(t){h.SET_CONST(a,"DEFAULT_SIZE",t.size),h.SET_CONST(a,"MIN_SPEED",t.minSpeed),h.SET_CONST(a,"MAX_SPEED",t.maxSpeed),h.SET_CONST(a,"SPEED_DELTA",a.MAX_SPEED-a.MIN_SPEED),h.SET_CONST(a,"RETRACTION_GROWTH",t.rGrowth),h.SET_CONST(a,"RETRACTION_SPEED",t.rSpeed),h.SET_CONST(a,"SNAP_TO_ORIGIN_THRESHOLD",t.snapOrigin),h.SET_CONST(a,"MIN_GPOINT_RADIUS",t.minRadius),h.SET_CONST(a,"MAX_GPOINT_RADIUS",t.maxRadius),h.SET_CONST(a,"GPOINT_DELTA_RADIUS",a.MAX_GPOINT_RADIUS-a.MIN_GPOINT_RADIUS),h.SET_CONST(a,"COLORS",{BLACK:{r:0,g:0,b:0}}),h.SET_CONST(s,"Particle",a);var e=2*a.MAX_GPOINT_RADIUS,i=this.scene.dimens.width-2*a.MAX_GPOINT_RADIUS,n=this.scene.dimens.height-2*a.MAX_GPOINT_RADIUS;h.SET_CONST(s,"SAFE_ZONE_X_AXIS",{min:e,max:i}),h.SET_CONST(s,"SAFE_ZONE_Y_AXIS",{min:e,max:n})},initScene:function(t,e){this.scene=new s(t,e.scene),this.setConstants(e.particle),this.scene.init()}};var n=function(t,e){this.string=t,this.color=e&&/^#(?:[a-z0-9]{3}){1,2}$/.test(e)?e:"000000",this.letters=this.buildLetters()},r=function(t){if(!/^[a-z0-9. ]$/.test(t))throw new Error("Unsupported character '"+t+"'.");this["char"]=t,this.matrix=this.buildMatrix(t)};n.prototype.buildLetters=function(){for(var t=this.string.split(""),e=0;e<t.length;e++)t[e]=new r(t[e].toLowerCase(),this.color);return t},r.prototype.buildMatrix=function(t){switch(t){case" ":return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];case".":return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,1,0,0];case"a":return[1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,0,0,0,1];case"b":return[1,1,1,1,0,1,0,0,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1];case"c":return[1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1];case"d":return[1,1,1,1,0,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,1,1,1,0];case"e":return[1,1,1,1,1,1,0,0,0,0,1,1,1,0,0,1,0,0,0,0,1,1,1,1,1];case"f":return[1,1,1,1,1,1,0,0,0,0,1,1,1,0,0,1,0,0,0,0,1,0,0,0,0];case"g":return[1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,0,0,0,1,1,1,1,1,1];case"h":return[1,0,0,0,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,0,0,0,1];case"i":return[0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0];case"j":return[0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,1,0,0,0,1,1,1,1,1,1];case"k":return[1,0,0,1,0,1,0,0,1,0,1,0,0,1,0,1,1,1,1,0,1,0,0,0,1];case"l":return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1];case"m":return[1,1,1,1,1,1,0,1,0,1,1,0,1,0,1,1,0,1,0,1,1,0,1,0,1];case"n":return[1,1,1,1,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1];case"0":case"o":return[1,1,1,1,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,1,1,1,1];case"p":return[1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0];case"q":return[1,1,1,1,1,1,0,0,0,1,1,0,0,0,1,1,0,1,0,1,1,1,1,1,1];case"r":return[1,1,1,1,0,1,0,0,0,1,1,1,1,1,0,1,0,0,0,1,1,0,0,0,1];case"5":case"s":return[1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1];case"t":return[1,1,1,1,1,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0];case"u":return[1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,1,1,1,1];case"v":return[1,0,0,0,1,1,0,0,0,1,0,1,0,1,0,0,1,0,1,0,0,0,1,0,0];case"w":return[1,0,0,0,1,1,0,0,0,1,1,0,1,0,1,1,0,1,0,1,1,1,1,1,1];case"x":return[1,1,0,1,1,0,1,1,1,0,0,0,1,0,0,0,1,1,1,0,1,1,0,1,1];case"y":return[1,0,0,0,1,1,0,0,0,1,1,1,1,1,1,0,0,1,0,0,0,0,1,0,0];case"2":case"z":return[1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1];case"1":return[0,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0];case"3":return[1,1,1,1,1,0,0,0,0,1,0,0,1,1,1,0,0,0,0,1,1,1,1,1,1];case"4":return[1,0,0,0,1,1,0,0,0,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1];case"6":return[1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1];case"7":return[1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"8":return[1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1];case"9":return[1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1];default:return[]}};var s=function(t,e){this.container=document.getElementById(t.substring(1)),this.options=e,this.dimens={},this.dimens.width=this.container.offsetWidth,this.dimens.height=this.container.offsetHeight,this.center=new PIXI.Point(this.dimens.width/2,this.dimens.height/2),this.app=new PIXI.Application(this.dimens.width,this.dimens.height,{backgroundColor:e.bgColor}),this.graphics=new PIXI.Graphics,this.word=null,this.particles={main:[],fake:[]}};s.prototype={constructor:s,init:function(){return this.append(),this.generateFakeParticles(),this.animate(),this},append:function(){this.container.appendChild(this.app.view)},generateFakeParticles:function(){for(var t=this.constructor,e=t.Particle,i=e.DEFAULT_SIZE,n=0;n<h.rand(8,20);n++)this.particles.fake.push(new e(h.rand(t.SAFE_ZONE_X_AXIS.min,t.SAFE_ZONE_X_AXIS.max),h.rand(t.SAFE_ZONE_Y_AXIS.min,t.SAFE_ZONE_Y_AXIS.max)).addEffect(u.fadeIn({step:.01})).addEffect(u.changeSize({value:h.rand(i/2,i+i/2)}))["float"]())},animate:function(){function t(t,e,i){for(var n=0;n<e.length;n++)e[n].consumeEffects(),t.beginFill("0x"+e[n].color,1),t.fillAlpha=e[n].opacity,t.drawRect(e[n].current.x-e[n].size/2,e[n].current.y-e[n].size/2,e[n].size,e[n].size),e[n].move(i)}var e=this;this.app.ticker.add(function(i){var n=e.graphics,r=e.particles.main,s=e.particles.fake;n.clear(),t(n,r,i),t(n,s,i),e.app.stage.addChild(n)})}};var a=function(t,e,i,n,r){this.origin=new PIXI.Point(t,e),this.current=new PIXI.Point(t,e),this.size=n?n:a.DEFAULT_SIZE,this.color=i?i:a.COLORS.BLACK,this.opacity=r?r:1,this.speed=h.rand(a.MIN_SPEED,a.SPEED_DELTA+a.MIN_SPEED),this.gPoint=null,this.isFloating=!1,this.isMoving=!1,this.eStack=new o},o=function(){this.stack=[],this.queued=[]},c=function(t){this.radius=h.rand(t.constructor.MIN_GPOINT_RADIUS,t.constructor.GPOINT_DELTA_RADIUS),this.direction=Math.random()>.5?1:-1,this.angle=2*Math.random()*Math.PI,this.origin=new PIXI.Point(t.origin.x+this.radius*Math.cos(2*Math.PI-this.angle),t.origin.y+this.radius*Math.sin(2*Math.PI-this.angle))};a.prototype={constructor:a,addEffect:function(t){return this.eStack.push(t),this},consumeEffects:function(){for(var t;this.eStack.length()>0;)t=this.eStack.pop(),t.func(this,t);return this.eStack.update(),this},getColor:function(){return h.toHex(this.color.r)+h.toHex(this.color.g)+h.toHex(this.color.b)},"float":function(){return this.gPoint=new c(this),this.isMoving=!0,this.isFloating=!0,this},retract:function(){return this.isFloating=!1,this.eStack.push(u.changeSize(a.DEFAULT_SIZE,2)),this.eStack.push(u.changeOpacity(1,.4)),this},move:function(t){var e=this.constructor;if(this.isMoving&&!this.fxLock)if(this.isFloating)this.current.x=this.gPoint.origin.x+this.gPoint.radius*Math.cos(Math.PI-this.gPoint.angle),this.current.y=this.gPoint.origin.y+this.gPoint.radius*Math.sin(Math.PI-this.gPoint.angle),this.gPoint.angle+=this.speed*this.gPoint.direction*t;else{if(this.current.x<this.origin.x+e.SNAP_TO_ORIGIN_THRESHOLD&&this.current.x>this.origin.x-e.SNAP_TO_ORIGIN_THRESHOLD)this.current.x=this.origin.x;else if(this.current.x!=this.origin.x){var i=this.current.x-this.origin.x;this.current.x+=e.RETRACTION_SPEED*(1+e.RETRACTION_GROWTH*Math.log10(Math.abs(i)/Math.pow(e.RETRACTION_SPEED,2)))*(i>0?-1:0>i?1:0)*t}if(this.current.y<this.origin.y+e.SNAP_TO_ORIGIN_THRESHOLD&&this.current.y>this.origin.y-e.SNAP_TO_ORIGIN_THRESHOLD)this.current.y=this.origin.y;else if(this.current.y!=this.origin.y){var i=this.current.y-this.origin.y;this.current.y+=e.RETRACTION_SPEED*(1+e.RETRACTION_GROWTH*Math.log10(Math.abs(i)/Math.pow(e.RETRACTION_SPEED,2)))*(i>0?-1:0>i?1:0)*t}this.current.equals(this.origin)&&(this.isMoving=!1)}return this}},o.prototype={length:function(){return this.stack.length},push:function(t){this.stack.push(t)},pop:function(t){return this.stack.pop(t)},update:function(){this.stack=this.queued,this.queued=[]},"continue":function(t){this.queued.push(t)}};var u={base:{size_func:function(t,e){var i=t.size-e.targetValue;return(t.isFloating||t.isMoving)&&Math.abs(i)>2?(t.size+=e.step*(i>0?-1:1),!1):(t.size=e.targetValue,!0)},opacity_func:function(t,e){var i=t.opacity-e.targetValue;return(t.isFloating||t.isMoving)&&Math.abs(i)>.1?(t.opacity+=e.step*(i>0?-1:1),!1):(t.opacity=e.targetValue,!0)},color_func:function(t,e){var i=t.color,n=e.targetValue;if(i.r!=n.r||i.g!=n.g||i.b!=n.b){var r=function(t,i,n,r){return Math.abs(t)<10?r:i+e.step*(t>0?-1:1)};return i.r=r(i.r-n.r,i.r,e.step,n.r),i.g=r(i.g-n.g,i.g,e.step,n.g),i.b=r(i.b-n.b,i.b,e.step,n.b),!1}}},changeSize:function(t){return{data:{step:t&&t.step?t.step:h.rand(.2,.6),targetValue:t&&t.value?t.value:h.rand(10,20)},func:function(t,e){u.base.size_func(t,e.data)||t.eStack["continue"]({data:e.data,func:e.func})}}},changeOpacity:function(t){return{data:{step:t&&t.step?t.step:h.rand(.04,.1),targetValue:t&&(t.value||0==t.value)?t.value:h.rand(.2,.9)},func:function(t,e){u.base.opacity_func(t,e.data)||t.eStack["continue"]({data:e.data,func:e.func}),0==t.opacity&&(t.consumed=!0)}}},changeColor:function(t){return{data:{step:t&&t.step?t.step:h.rand(2,10,!0),targetValue:t&&t.value?t.value:{r:h.rand(0,255,!0),g:h.rand(0,255,!0),b:h.rand(0,255,!0)}},func:function(t,e){u.base.color_func(t,e.data)||t.eStack["continue"]({data:e.data,func:e.func})}}},fadeIn:function(t){return{data:{step:t&&t.step?t.step:h.rand(.001,.005),targetValue:t&&t.value?t.value:h.rand(.2,.9),isZero:!1},func:function(t,e){e.data.isZero||(t.opacity=-e.data.step,e.data.isZero=!0),u.base.opacity_func(t,e.data)||t.eStack["continue"]({data:e.data,func:e.func})}}},fadeOut:function(t){return changeOpacity({value:0,step:t?t:.01})}},h={toHex:function(t){return t=parseInt(t,10),isNaN(t)?"00":(t=Math.max(0,Math.min(t,255)),"0123456789ABCDEF".charAt((t-t%16)/16)+"0123456789ABCDEF".charAt(t%16))},SET_CONST:function(t,e,i){Object.defineProperty(t,e,{value:i})},rand:function(t,e,i){var n=Math.random()*(e?e-t:t);return(i?Math.floor(n):n)+(e?t:0)}};t.Pword=i});